# Gas Optimization

## Summary
No summary provided.

## Details
## Role Management in Inrole.move

In `role.move`â€™s `revoke_role_from_signer`, it may be more efficient to use `vector::swap_remove` instead of `vector::remove` when removing role IDs from `signer.roles`, as the order of the IDs in the vector is not essential. This may help reduce gas consumption.

## Function Definition

```rust
fun revoke_role_from_signer(role_book: &mut RoleBook, signer_id: address, role_id: RoleID) {
    assert!((!is_void_role(role_id)) && (!is_void_signer(signer_id)), E_EDIT_RESERVED);
    let signer = get_signer_mut(role_book, signer_id);
    assert!(has_role(signer, role_id), E_SIGNER_NOT_HAS_ROLE);
    let (_, index) = vector::index_of(&signer.roles, &role_id);
    vector::remove(&mut signer.roles, index);
    event::emit(RevokeRoleEvent { address: signer_id, role_id });
    let role = get_role_mut(role_book, role_id);
    reference::decrease(&mut role.signer_ref);
    if (reference::is_zero(&role.signer_ref)) {
        assert!(reference::is_zero(&role.permission_ref), E_ROLE_STILL_BE_USED);
    };
}
```

## Remediation

Replace the reference of `vector::remove` with `vector::swap_remove`.

## Patch

Fixed in `d469db1`.
