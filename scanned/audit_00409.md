# Code Maturity

## Summary
No summary provided.

## Details
## Code Improvement Recommendations

1. **TableQueue Improvements**  
   Within `table_queue`, it is advisable for `is_empty`, `borrow_front`, and `borrow_front_mut` to utilize `table::is_empty` for obtaining the result, rather than checking the length of the `TableQueue`.

   **Source**
   ```rust
   // sources/table_queue.move
   /// Return if the TableQueue is empty or not.
   public fun is_empty<Element: store>(t: &TableQueue<Element>): bool {
       length(t) == 0
   }
   ```

2. **Utility Function Enhancement**  
   In `util`, utilize `mul_div` instead of duplicating the same code for such operations.

   **Source**
   ```rust
   // sources/util.move
   public fun get_sui_amount(exchange_rate: &PoolTokenExchangeRate, token_amount: u64): u64 {
       [...]
       let res = (sui_amount as u128) * (token_amount as u128) / (pool_token_amount as u128);
   }
   ```

3. **Staking Vector Optimization**  
   Within `staking`, it is more appropriate for `is_active_validator` to employ `vector::contains` instead of iterating through the vector to check the elements.

   **Source**
   ```rust
   // sources/util.move
   fun is_active_validator(validator: address, active_validators: &vector<address>): bool {
       [...]
       while (i < length) {
           if (validator == *vector::borrow(active_validators, i)) {
               return true
           };
           i = i + 1;
       };
       return false
   }
   ```

## Remediation
Utilize the functions mentioned above to enhance overall readability and mitigate code duplication.

**Haedal Audit 05 | General Findings**  
**Patch**  
Fixed in 5bcf233 and 56a221a
