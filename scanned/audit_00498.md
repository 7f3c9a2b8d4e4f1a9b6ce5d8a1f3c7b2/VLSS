# Using Precise Invariant For Assertion

## Summary
No summary provided.

## Details
## compute_invariant_weights_u64

`compute_invariant_weights_u64` is used in the math module to calculate an invariant and assert that it is non-decreasing after the swap. In this function, the calculated invariant is rounded down before returning it, which may result in a loss of precision and frequent reverting of swaps. It is preferred to return the fixed point value directly and use it for asserting the invariant and decoding it to `u64` only when necessary.

## Remediation

Return fixed point values directly for invariant assertion in `calc_out_given_in_weights_u64` and `calc_in_given_out_weights_u64`.

## Patch

Fixed in #110.
