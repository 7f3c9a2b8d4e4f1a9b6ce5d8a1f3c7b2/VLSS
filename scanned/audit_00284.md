# Unnecessary use of mutable references

## Summary
No summary provided.

## Details
##### Description

Borrowing a resource should ideally be reserved for cases where modification is necessary. However, in the modules in scope, several unnecessary mutable borrows were identified.

Code Location
-------------

In the `claimable_fa_store` module, the following unnecessary mutable borrows were identified:

```
let claimable_fa_store = borrow_global_mut<ClaimableFaStore>(resource_account);
```

```
let claimable_fa_store = borrow_global_mut<ClaimableFaStore>(_claim_cap.resource_account);
```

```
let claimable_fa_store = borrow_global_mut<ClaimableFaStore>(_claim_cap.resource_account);
```

In the `mkl_token` module, the following unnecessary mutable borrow was identified:

```
let pool_store = borrow_global_mut<PoolStore<PoolType>>(@merkle);
```

In the `pmkl_token` module, the following unnecessary mutable borrow was identified:

```
let reward_info = borrow_global_mut<RewardInfo>(@merkle);
```

In the `staking` module, the following unnecessary mutable borrows were identified:

```
let config = borrow_global_mut<VoteEscrowedMKLConfig>(@merkle);
```

```
let ve_powers = borrow_global_mut<VoteEscrowedPowers>(@merkle);
let user_vemkl = borrow_global_mut<UserVoteEscrowedMKL>(_user_address);
```

In the `protocol_reward` module, the following unnecessary mutable borrow was identified:

```
let user_reward_info = borrow_global_mut<UserRewardInfo<AssetType>>(_user_address);
```

##### BVSS

[AO:A/AC:L/AX:L/R:F/S:U/C:N/A:N/I:N/D:N/Y:N (0.0)](/bvss?q=AO:A/AC:L/AX:L/R:F/S:U/C:N/A:N/I:N/D:N/Y:N)

##### Recommendation

Consider using `borrow_global` instead.

Remediation Plan
----------------

**SOLVED:** The **Taurus Labs team** implemented the recommended changes.

##### Remediation Hash

<https://github.com/tauruslabs/merkle-contract/commit/bed0c068133dc4e51518aab26265c1c184ff1447>

##### References

[tauruslabs/merkle-contract/merkle-token/sources/claimable\_fa\_store.move#L50](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/claimable_fa_store.move#L50)

[tauruslabs/merkle-contract/merkle-token/sources/claimable\_fa\_store.move#L57](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/claimable_fa_store.move#L57)

[tauruslabs/merkle-contract/merkle-token/sources/claimable\_fa\_store.move#L69](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/claimable_fa_store.move#L69)

[tauruslabs/merkle-contract/merkle-token/sources/mkl\_token.move#L144](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/mkl_token.move#L144)

[tauruslabs/merkle-contract/merkle-trade/sources/pmkl\_token.move#L167](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-trade/sources/pmkl_token.move#L167)

[tauruslabs/merkle-contract/merkle-token/sources/staking.move#L153](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/staking.move#L153)

[tauruslabs/merkle-contract/merkle-token/sources/staking.move#L368](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/staking.move#L368)

[tauruslabs/merkle-contract/merkle-token/sources/staking.move#L369](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/staking.move#L369)

[tauruslabs/merkle-contract/merkle-token/sources/protocol\_reward.move#L71](https://github.com/tauruslabs/merkle-contract/blob/8b9d5bb6a65adfd62654daaba4061287714b2594/merkle-token/sources/protocol_reward.move#L71)
