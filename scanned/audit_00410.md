# Division By Zero Error

## Summary
No summary provided.

## Details
## Issue Overview

The issue is associated with the lack of protective measures in `set_validator_count` to prohibit the configuration of `validator_count` to zero.

## Affected Source

**File:** `sources/staking.move`  
**Language:** Rust

## Code Snippet

```rust
/// call this at the end of every epoch, and it can be called several times in one epoch
public(friend) fun do_stake(
    staking: &mut Staking,
    wrapper: &mut SuiSystemState,
    validators: vector<address>,
    ctx: &mut TxContext,
) {
    [...]
    // calculate the amount to stake on each validator
    let validator_count = vector::length(&validators);
    // select maximum config_validator_count validators
    let config_validator_count = config::get_validator_count(&staking.config);
    if (config_validator_count < validator_count) {
        validator_count = config_validator_count;
    };
    [...]
    let avg_amount = need_stake_amount / validator_count;
    [...]
}
```

This may result in a division by zero error in `do_stake` in the staking when attempting to calculate the average amount to stake on each validator, based on `need_stake_amount` and the selected validator count as shown above.

## Remediation

Include a check in `set_validator_count` to verify that `validator_count` is greater than zero.

## Patch

**Fixed in:** `5fae915`
