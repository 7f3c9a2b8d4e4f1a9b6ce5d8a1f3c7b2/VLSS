# [L-01] Incomplete storage cleanup on full withdrawal

## Summary
No summary provided.

## Details
_Resolved_

In the `locked_funds.move` function `update_user_collateral_coin_types()` when users withdraw all tokens of a specific type, the tracking list is updated, but the underlying `BalanceStore<T>` dynamic field entry is not removed from storage.

This is **how it occurs:**
1. User deposits ETH → creates `BalanceStore<ETH>` dynamic field in deposit calling `get_or_create_balance_store_mut`.
2. When the user withdraws all ETH → balance becomes 0.
3. `update_user_collateral_coin_types()` removes ETH from the tracking list.
4. `BalanceStore<ETH>` with zero balance remains in storage permanently.

The **root cause** is missing cleanup logic, only tracking is updated, and actual storage persists.

One concrete impact of this is **gradual storage bloat**, as empty balance entries accumulate over time without cleanup.

As recommendation, add a dynamic field removal when the balance reaches zero. In the `update_user_collateral_coin_types` else part, add the code below:

```move
} else {
    // Current: remove from tracking
    coin_types.remove(&coin_type);
    
    // ADD: remove empty storage
    let balance_key = get_balance_store_key<T>(owner);
    if (df::exists_(&management.id, balance_key)) {
        df::remove<vector<u8>, BalanceStore<T>>(&mut management.id, balance_key);
    }
}
```
