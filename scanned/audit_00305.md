# Code Refactoring

## Summary
No summary provided.

## Details
## Code Review Suggestions

1. Prevent the creation of expired orders and zero balance orders in `place_limit_order`.
2. Add the same validation present in `place_limit_order` to `create_indexer_and_place_limit_order`.
3. In `update_min_trade_amount`, skip emitting an event if no update occurs and require the manager role instead of `adminCap` to maintain consistency with `add_into_token_list` and `remove_from_token_list`.
4. When `config.require_check_token_white_list` is true, verify in `flash_loan` that the `targetCoin` type is in the whitelist.

## Remediation

1. Ensure `expired_ts` is greater than `created_ts` and `pay_coin` is greater than zero.
2. Call `place_limit_order` after creating an indexer.
3. Replace `adminCap` with a call to `checked_token_white_list_manager_role` and place the emit code inside an if statement.
4. Call `checked_pool_token_types` that verifies `PayCoin` and `TargetCoin` are in the whitelist.

## Patch

Fixed in `aa1ebaa` and `ed9ecf5`.

Â© 2024 Otter Audits LLC. All Rights Reserved. 10/12
