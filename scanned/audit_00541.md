# Check Rule Existence

## Summary
No summary provided.

## Details
## Add Receipt Function

The `add_receipt` function adds a rule to the receipts of `TransferRequest`. However, it does not check if the rule to add is present in `TransferPolicy`.

## Function Definition

```rust
public fun add_receipt<T, Rule: drop>(
    _: Rule, request: &mut TransferRequest<T>
) {
    vec_set::insert(&mut request.receipts, type_name::get<Rule>())
}
```

## Remediation

Add an assert statement utilizing `has_rule` to verify the existence of the rule.

### Diff

```rust
/// Adds a `Receipt` to the `TransferRequest`, unblocking the request and
/// confirming that the policy requirements are satisfied.
public fun add_receipt<T, Rule: drop>(
    - _: Rule, request: &mut TransferRequest<T>
    + _: Rule, request: &mut TransferRequest<T>, policy: &TransferPolicy<T>
) {
    + assert!(has_rule<T, Rule>(policy), 1);
    vec_set::insert(&mut request.receipts, type_name::get<Rule>())
}
```
