# Improper Constraint on Optimal Utilization

## Summary
No summary provided.

## Details
## Optimal Utilization Constraint in InterestRateConfig

In `interest_rate_config.move`, the `optimal_utilization` field in the `InterestRateConfig` struct is constrained to be less than or equal to 100. However, this leads to the `get_borrow_rate` function throwing an error when utilization exceeds `optimal_utilization`, as `1 - optimal_utilization` becomes 0 and is used in the denominator.

## Remediation

A possible method for remediation involves changing the constraint on the value of `optimal_utilization` to be strictly "less than 100" instead of "less than or equal to 100". The code snippet below illustrates a possible implementation:

```diff
aries-config/sources/interest_rate_config.move
13 public fun new_interest_rate_config(
14 min_borrow_rate: u64,
15 optimal_borrow_rate: u64,
16 max_borrow_rate: u64,
17 optimal_utilization: u64
18 ): InterestRateConfig {
19 - assert!(0 <= optimal_utilization && optimal_utilization <= 100, 0);
20 + assert!(0 <= optimal_utilization && optimal_utilization < 100, 0);
21 assert!(min_borrow_rate <= optimal_borrow_rate && optimal_borrow_rate <= max_borrow_rate, 0);
22
23 InterestRateConfig {
24 min_borrow_rate,
25 optimal_borrow_rate,
26 max_borrow_rate,
27 optimal_utilization
28 }
29 }
```

Â© 2022 OtterSec LLC. All Rights Reserved. 13 / 19
