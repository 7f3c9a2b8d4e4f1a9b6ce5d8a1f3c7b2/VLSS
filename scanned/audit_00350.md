# Code Maturity

## Summary
No summary provided.

## Details
## Obligation Structure and Recommendations

1. The Obligation structure does not have a limit on the size of the `user_reward_managers` vector. Although storage reads are relatively inexpensive, they still accrue gas costs on the blockchain. Thus, an unbounded vector may lead to escalating gas costs over time.

   > _contracts/sources/obligation.move
   ```
   struct Obligation<phantom P> has key, store {
       id: UID,
       user_reward_managers: vector<UserRewardManager>,
       [...]
   }
   ```

2. The call to `update_pool_reward_manager` within `new_user_reward_manager` is redundant as `update_user_reward_manager` already handles updating the state of the pool reward manager. Therefore, the initial call to `update_pool_reward_manager` serves no additional purpose and can be safely removed.

3. The `withdraw_ctoken_amount > 0` assertion in `liquidate` ensures that there must always be some amount of cTokens withdrawn during a liquidation action. However, allowing for zero cToken withdrawal may be desirable or necessary in certain edge cases.

   **Remediation**  
   Implement the above-mentioned suggestions.

   **Patch**  
   Fixed in `8f71ba2`.

Â© 2024 Otter Audits LLC. All Rights Reserved. 9/11
