# Race Condition

## Summary
No summary provided.

## Details
## Potential Race Condition in `vault::check_rebalance_loop`

There is a potential race condition in `vault::check_rebalance_loop`, as it iterates through vaults with `vault_id_option`, which points to vaults within the strategy. Thus, another user may try to close the same vault (pointed to by `vault_id_option`). Since there is no lock on the strategy, the vault will be closed while `check_rebalance_loop` is still iterating through the loop.

## Remediation

Lock the strategy before iterating through the vaults. This will ensure exclusive access to the strategy data while `check_rebalance_loop` is executing.

Â© 2024 Otter Audits LLC. All Rights Reserved. 11/21
