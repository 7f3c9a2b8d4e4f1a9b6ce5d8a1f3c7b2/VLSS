# Code Refactoring

## Summary
No summary provided.

## Details
## Code Review Summary

## Issues Identified

1. **City Parameter Usage**  
   `request_ride` currently utilizes the `city: String` parameter to determine a city chosen by the user. However, it would be more suitable to utilize the `CityConfig` object solely.

2. **City Identifier**  
   `name: String` is an identifier in `CityConfig`. This data type may not be the most suitable for distinguishing between cities as there may be multiple cities with similar names, which may be confusing.

3. **Redundant Functions**  
   The `get_*_id` functions do not require a mutable reference. Moreover, they seem redundant compared to `object::id()`, which offers identical functionality.

4. **Condition Update Needed**  
   We recommend altering the condition in `get_ride_stops_waiting_time` from `stop < 3` to `stop <= 3`, as the current condition means `stop == 3` would result in `waiting_time = waiting_time + 0`.

   ```rust
   fn get_ride_stops_waiting_time(stops: vector<u64>, index: u64) -> u64 {
       let waiting_time = 0;
       if(vector::length(&stops) > 0) {
           let i = 0;
           while(i < index) {
               let stop = *vector::borrow(&stops, i);
               if(stop < 3) {
                   i = i + 1;
                   continue;
               }
               [...]
           }
       }
   }
   ```

## Remediation Steps

1. Utilize the `CityConfig` object for ascertaining the userâ€™s selected city.
2. Ensure to adjust the data type to differentiate a specific city better.
3. Remove the mutable reference from these functions.
4. Modify the condition as specified above.

## Patch

Fixed in commits: `9bacbc7`, `65fc7b0`, `77d62cb`, and `adc6fc8`.
