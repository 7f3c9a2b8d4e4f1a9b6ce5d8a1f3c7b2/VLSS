# Code Maturity

## Summary
No summary provided.

## Details
## Vesting Token Issues and Remediation

1. **Hard-coded Vesting Duration**  
   `esmkl_token::vest` utilizes the hard-coded value `ESMKL_VESTING_DURATION` for vesting duration, under the assumption that this duration will not change. While this may be true currently, it may result in maintenance issues if the `vesting_config` is updated or if different vesting durations are required in the future.

2. **Behavior of get_claimable Function**  
   In the current design within `vesting::get_claimable`, if the vesting has not started yet, the function returns the `initial_amount`, which may not be the desired behavior.

   ```rust
   public fun get_claimable(_vesting_plan: &VestingPlan): u64 {
       if (_vesting_plan.paused) {
           return 0;
       };
       let now = timestamp::now_seconds();
       _vesting_plan.initial_amount + safe_mul_div(
           _vesting_plan.total_amount - _vesting_plan.initial_amount,
           min(now, _vesting_plan.end_at_sec) - min(now, _vesting_plan.start_at_sec),
           (_vesting_plan.end_at_sec - _vesting_plan.start_at_sec)
       ) - _vesting_plan.claimed_amount
   }
   ```

## Remediation

1. **Use of Configuration for Vesting Duration**  
   Utilize `vesting_config.vesting_duration` instead of the hard-coded `ESMKL_VESTING_DURATION`. This way, if the vesting duration needs to be updated, it can be managed through the configuration rather than requiring code changes.

2. **Adjusting get_claimable Function**  
   Ensure `vesting::get_claimable` returns zero if the current time (`now`) is earlier than the start time of the vesting plan (`start_at_sec`).

## Patch

Fixed in commit `906ec95` by adhering to the recommendations.
