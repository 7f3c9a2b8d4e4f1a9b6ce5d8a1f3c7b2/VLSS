# Inability To Withdraw Treasury Amount

## Summary
No summary provided.

## Details
## Treasury Balance Management in Instorage

The `Instorage.move` functions `increase_treasury_balance` and `update_state` collect the treasury amount by adding it to the `treasury_balance` of the coinâ€™s `ReserveData` in Storage. However, no functionality exists to collect this amount using `withdraw_treasury`. As a result, this amount remains locked in the pool.

## Code Snippets

### increase_treasury_balance

```rust
public(friend) fun increase_treasury_balance(storage: &mut Storage, asset: u8, amount: u256) {
    let reserve = table::borrow_mut(&mut storage.reserves, asset);
    reserve.treasury_balance = reserve.treasury_balance + amount;
}
```

### update_state

```rust
public(friend) fun update_state(
    storage: &mut Storage,
    asset: u8,
    new_borrow_index: u256,
    new_supply_index: u256,
    last_update_timestamp: u64,
    scaled_treasury_amount: u256
) {
    let reserve = table::borrow_mut(&mut storage.reserves, asset);
    reserve.current_borrow_index = new_borrow_index;
    reserve.current_supply_index = new_supply_index;
    reserve.last_update_timestamp = last_update_timestamp;
    reserve.treasury_balance = reserve.treasury_balance + scaled_treasury_amount;
}
```

## Remediation

Create the necessary functionality to withdraw the treasury balance from the pool.

### Patch

Fixed in commit `54dbd6e` by implementing `withdraw_treasury` to allow for the withdrawal of the treasury balance.
