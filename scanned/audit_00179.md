# Additional Safety Checks

## Summary
No summary provided.

## Details
## Liquidity Pool Improvements

## 1. Validation Step in `pool::deposit_liquidity`

Add a validation step in `pool::deposit_liquidity` to check whether the minted LP tokens (`lp_coins`) are at least equal to `MINIMUM_LIQUIDITY` if this is the first deposit into the pool. This ensures that when the first deposit is made, enough LP tokens exist for the minimum lock.

```rust
steamm/sources/pool/pool.move
public fun deposit_liquidity<A, B, Quoter: store, LpType: drop>([...]): (Coin<LpType>, DepositResult) {
    pool.version.assert_version_and_upgrade(CURRENT_VERSION);
    assert!(!(coin_a.value() == 0 && coin_b.value() == 0), EEmptyCoins);
    
    // Compute token deposits and delta lp tokens
    let quote = quote_deposit_(pool, max_a, max_b);
    let initial_lp_supply = pool.lp_supply.supply_value();
    let (initial_total_funds_a, initial_total_funds_b) = pool.balance_amounts();
    let balance_a = coin_a.balance_mut().split(quote.deposit_a());
    let balance_b = coin_b.balance_mut().split(quote.deposit_b());
}
```

## 2. Input Parameter Validation in Fees Module

The fees module does not validate input parameters, which may lead to unexpected behavior or errors if incorrect values are provided. Implementing proper validation is recommended to ensure robustness.

## 3. Validation of Subtractions in `bank_math`

Validate the subtractions in both `bank_math::compute_amount_to_deploy` and `bank_math::compute_amount_to_recall` to mitigate the possibility of unintended errors during the subtraction operations, especially if the `target_utilisation` changes.

## 4. Handling Minimum Liquidity in Bank

Handle the case when `bank.btoken_supply.supply_value()` is less than `MINIMUM_LIQUIDITY` to appropriately address the scenario when the bankâ€™s liquidity falls below a minimum threshold required to maintain stable operations.

## Remediation

Add the checks stated above.

## Patch

1. Issue #1 resolved in `0a27ee9`.
2. Issue #2 resolved in `0aa893f`.
