# Minting of Zero LST

## Summary
No summary provided.

## Details
It is theoretically possible for `sui_amount_to_lst_amount` to return zero when the calculated `lst_amount` is a very small fraction due to the supply ratio. The function computes the LST amount by dividing `total_lst_supply * sui_amount` by `total_sui_supply`. If the `sui_amount` is very small compared to `total_sui_supply`, the result of the division may round down to zero. This is problematic because it implies that the user effectively receives no tokens in exchange for their staked assets.

> **File:** contracts/sources/liquid_staking.move  
> **Language:** Rust

```rust
fun sui_amount_to_lst_amount<P>(
    self: &LiquidStakingInfo<P>,
    sui_amount: u64
): u64 {
    let total_sui_supply = self.total_sui_supply();
    let total_lst_supply = self.total_lst_supply();
    if (total_sui_supply == 0 || total_lst_supply == 0) {
        return sui_amount
    };
    let lst_amount = (total_lst_supply as u128) *
                     (sui_amount as u128) /
                     (total_sui_supply as u128);
    lst_amount as u64
}
```

## Remediation
Prevent the minting of an invalid amount of LST.

## Patch
Resolved in `cbd2f94`.
