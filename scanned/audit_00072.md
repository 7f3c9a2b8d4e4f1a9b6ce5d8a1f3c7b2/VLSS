# [L-09] Cooldown timer reset causes user withdrawal delays

## Summary
No summary provided.

## Details
_Acknowledged_

In `deusd_lp_staking.move` function `unstake()`, each unstake operation overwrites the cooldown timestamp for all cooling tokens, not just the newly unstaked amount.

If you check this **vulnerable code**, it resets the timer for ALL cooling tokens
```move
stake_data.cooldown_start_timestamp = clock_utils::timestamp_seconds(clock);
// â†‘ Resets timer for ALL cooling tokens
```

This is **how it occurs:**
1. User unstakes 1000 tokens on Day 0 (withdrawable Day 30).
2. User unstakes 100 more tokens on Day 20 (thinking it's independent).
3. Cooldown resets: all 1100 tokens now withdrawable Day 50 (30 days from Day 20).

The **root cause** here is that a single timestamp is shared across all cooling tokens instead of per-batch tracking.

The concrete impact here is user confusion and unintended withdrawal delays from multiple unstake transactions resetting cooldown periods.

**Recommendation**

Prevent cooldown reset if tokens are already cooling.

```move
// In unstake() function:
if (stake_data.cooling_down_amount == 0) {
    stake_data.cooldown_start_timestamp = clock_utils::timestamp_seconds(clock);
}
```
