# Lack of Slippage Protection on Deposits Exposes Users to Front-Running

## Summary
No summary provided.

## Details
**Update**
Marked as "Acknowledged" by the client. The client provided the following explanation:

> Although an attacker engages in front-running a large deposit, the share price will not change, and subsequent depositors will not receive fewer shares. Since we use the oracle spot price to calculate the NAV, which is extremely difficult for attackers to manipulate. This finding is almost impossible to occur.

**File(s) affected:**`vault.move`

**Description:** The `deposit()` function calculates the number of shares a user receives based on the vault's NAV at the start of the transaction. An attacker can exploit this by front-running a large deposit and executing a trade that artificially inflates the vault's NAV. When the victim's deposit is then processed, it will be valued against this higher NAV, causing them to receive significantly fewer shares than they expected for their assets.

**Recommendation:** Modify the `deposit()` function to accept a `min_shares_out` parameter. This allows the depositor to specify the minimum number of shares they are willing to accept for their deposit amount, causing the transaction to revert if MEV or other price movements result in an outcome below this threshold.
