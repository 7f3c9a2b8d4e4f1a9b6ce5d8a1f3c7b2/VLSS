# Assert Length Equality in pyth::parse_data_sources

## Summary
No summary provided.

## Details
## The `pyth::parse_data_sources` Function

The `pyth::parse_data_sources` function takes a list of `emitter_chain_ids` and `emitter_addresses`.  
The function iterates through `emitter_chain_ids` and expects to find a matching address for each entry:

```rust
pyth.move MOVE
fun parse_data_sources(
    emitter_chain_ids: vector<u64>,
    emitter_addresses: vector<vector<u8>>
): vector<DataSource> {
    let sources = vector::empty();
    let i = 0;
    while (i < vector::length(&emitter_chain_ids)) {
        vector::push_back(&mut sources, data_source::new(
            *vector::borrow(&emitter_chain_ids, i),
            external_address::from_bytes(*vector::borrow(&emitter_addresses, i))
        ));
        i = i + 1;
    };
    sources
}
```

In the case where `emitter_addresses` is larger than `emitter_chain_ids`, the function will effectively ignore the extra addresses.

## Remediation

Add a length equality check to ensure the two arguments have the same length.

## Patch

Fixed in #337.

Â© 2022 OtterSec LLC. All Rights Reserved. 9 / 16
