# The `trade_margin_settlement()` Function Uses Incorrect Error Code for Missing Accounts

## Summary
No summary provided.

## Details
**Update**
Marked as "Fixed" by the client. Addressed in: `06c96c4cf68cf7c15b8d9d24f161707af977c9cd`.

**File(s) affected:**`settlement.move`

**Description:** In `settlement::trade_margin_settlement()`, the function checks if the maker and taker have bank accounts using `bank.exists_account()`. However, if this check fails, it aborts with `error::not_enough_balance_in_bank()` instead of the more appropriate `error::user_has_no_bank_account()`.

**Recommendation:** Update the assertions to use `error::user_has_no_bank_account()` when checking for account existence.
