# Unable To Close Position

## Summary
No summary provided.

## Details
## pancake_dex_helper.move Module

In the `pancake_dex_helper.move` module, the function `calculate_debt_bps` is used to calculate the debt ratio of a position. This is essential for checking a positionâ€™s health during the processes of depositing and withdrawing shares, as well as during liquidation. 

However, the current implementation of this function returns the maximum possible value (10000) when the `lp_amount` parameter is zero. This creates an issue when attempting to close a position, resulting in a share balance of zero. In such cases, the debt ratio would be at maximum regardless of the actual debts, causing the health check to fail.

## Code Snippet

```rust
public fun calculate_debt_bps<X, Y>(
    lp_amount: u64,
    tokens: &vector<String>,
    debts: &vector<u64>,
): u64 {
    // if no more collateral, debt is 10000.
    if (lp_amount == 0) {
        return 10000
    };
}
```

## Remediation

It is recommended to check if the debts are empty before returning 10000 when the `lp_amount` is zero.
