# Dust Withdrawals Allow Request Spam and Fee Avoidance

## Summary
No summary provided.

## Details
**Update**
Marked as "Fixed" by the client. Addressed in: `e23756921e94992791c5ba3dc5badc8ed11b1024`.

**File(s) affected:**`vault.move`

**Description:** The `request_withdraw()` and `withdraw()` functions only enforce `shares > 0`. Since shares have 9 decimals of precision (1e9), a user can operate with extremely small "dust" amounts (e.g., 1 MIST or 1e-9 shares). This lack of a minimum threshold leads to two distinct issues:

1.   **Request Spam**: A malicious user with a small position (e.g., 1 USDC) can generate dust `UserWithdrawalRequest` shared objects. This floods the network state and creates clutter for off-chain indexers and the operator's UI.

2.   **Fee Avoidance**: Users can avoid paying the creator's profit share fee by withdrawing small "dust" amounts. The fee calculation involves multiple integer divisions that round down. If the calculated fee is smaller than 1 share unit, it rounds to 0, allowing the user to keep 100% of the profit.

**Exploit Scenario (Fee Avoidance)**:

*   **Creator Share**: 10% (`100,000,000`)
*   **Entry Price**: 1 USDC (`1,000,000,000`)
*   **Current Price**: 2 USDC (`2,000,000,000`) (100% Profit)
*   **Withdrawal**: 19 shares (19 MIST)

**Calculation**:

1.   **PnL**: `(2e9 - 1e9) * 19 / 1e9 = 19` units.
2.   **Fee Amount**: `19 * 10% = 1.9` -> rounds to `1` unit.
3.   **Fee Shares**: `1 * 1e9 / 2e9 = 0.5` -> rounds to `0` shares.

Result: User withdraws 19 shares worth 38 units of USDC and pays 0 fees.

**Recommendation:** Enforce a minimum withdrawal size in `request_withdraw()` and `withdraw()`. This prevents both the creation of spam objects and the avoidance of fees via dust rounding.
