# Faulty Token Struct Comparison

## Summary
No summary provided.

## Details
## Deterministic Ordering of Tokens in a Swap Pair

In order to construct a deterministic ordering of two tokens in a swap pair, it is necessary to be able to compare them. The current implementation concatenates the address, module, and struct names into a vector and invokes `compare_u8_vector`. 

This implementation generates collisions for certain token structs that should not collide. For example, the following two structs would generate the same comparison string:

```plaintext
MOVE
module address::FO {
    struct OBAR {}
}
module address::FOO {
    struct BAR {}
}
```

Both structs generate the string: `addressFOOBAR`. The protocol will incorrectly reject this swap pair from being constructed.

## Remediation

Use `type_info::type_name` to generate a fully qualified name for each struct. In the example above, the two token structs would produce the following names respectively:

1. `address::FO::OBAR`
2. `address::FOO::BAR`

## Patch

Fixed in `0a0ead7`.
