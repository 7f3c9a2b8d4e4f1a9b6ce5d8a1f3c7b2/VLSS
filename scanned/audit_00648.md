# Usage of Proper Error Codes

## Summary
No summary provided.

## Details
## Error Code Constraints in Functions

While most of the assert constraints generate the proper error codes, there are still some constraints that do not. For example, in the `profile::new` function, if the profile doesn’t exist, the error code used in the assert is `EPROFILE_ALREADY_EXIST` instead of `EPROFILE_NOT_EXIST`. Similarly, some of the constraints simply generate error code `0`, instead of relevant error codes.

## Examples of Improper Error Codes

The below code snippets show some examples of the usage of improper error codes (highlighted):

### aries/sources/profile.move

```rust
128 public fun new(account: &signer, profile_name: string::String) acquires Profiles {
129 let addr = signer::address_of(account);
130 assert!(exists<Profiles>(addr), EPROFILE_ALREADY_EXIST);
131 let profiles = borrow_global_mut<Profiles>(addr);
```

### aries/sources/reserve.move

```rust
382 public(friend) fun add_collateral<Coin0>(
383 lp_coin: Coin<LP<Coin0>>
384 ) acquires Reserves, ReserveCoinContainer {
385 let reserve_type_info = type_info<Coin0>();
386 assert!(
387 reserve_details::allow_collateral(
388 &reserve_details(reserve_type_info)
389 ),
390 0
391 );
```

## Remediation

To remediate this issue, error codes should be defined and used at relevant places for easier debugging.

© 2022 OtterSec LLC. All Rights Reserved. 14 / 19
