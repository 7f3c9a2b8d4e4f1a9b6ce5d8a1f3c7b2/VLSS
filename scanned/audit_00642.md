# Add Coin Amount Check To User::Deposit_Asset

## Summary
No summary provided.

## Details
## Function Deposit Asset - Review and Remediation

## Description
In the `function user::deposit_asset`, if the asset type is a coin, check if the passed `optional_coins` is equal to the amount passed. This eliminates the assumption that the amount argument matches `coin.value` when the `optional_coins` argument is `option::some`.

## Remediation
It is proposed that the function asserts the coin value matches the passed amount when coins are `option::some`, i.e., when the asset type is not generic.

## Patch
Patch in commit `c5fa4d6d`.

### Diff
```diff
src/move/econia/sources/user.move
@@ -1801,14 +1798,18 @@ module econia::user {
} else { // If asset is coin:
+ // Extract coins from option.
+ let coins = option::destroy_some(optional_coins);
+ // Assert passed amount matches coin value.
+ assert!(amount == coin::value(&coins),
,â†’ E_COIN_AMOUNT_MISMATCH);
```
