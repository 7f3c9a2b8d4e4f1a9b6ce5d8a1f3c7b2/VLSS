# Code Refactoring

## Summary
No summary provided.

## Details
## Code Refactoring Proposal

## Changes

1. In the function `unstake_approx_n_sui_from_inactive_stake`, there is a condition that checks if the `staked_sui_amount` is less than or equal to the `target_unstake_sui_amount` plus a small buffer (`MIN_STAKE_THRESHOLD`). It is recommended to replace `<=` with `<` to favor partial unstaking (splitting) over full unstaking.

   ```rust
   // contracts/sources/storage.move
   public(package) fun unstake_approx_n_sui_from_inactive_stake(
   [...]): u64 {
   [...]
   let staked_sui_amount = validator_info.inactive_stake.borrow().staked_sui_amount();
   let staked_sui = if (staked_sui_amount <= target_unstake_sui_amount + MIN_STAKE_THRESHOLD) {
       self.take_from_inactive_stake(validator_index)
   } else {
       self.split_from_inactive_stake(validator_index, target_unstake_sui_amount, ctx)
   };
   [...]
   }
   ```

2. Declare a constant value that represents the `max_bps` (10,000), and utilize it instead of hardcoding the value for improved clarity.

## Remediation

Incorporate the above-mentioned refactor into the codebase.

## Patch

1. Issue #1 resolved in `dcc419f`.
2. Issue #2 resolved in `ab5d293`.
