# Rounding Error During Execution Of Code

## Summary
No summary provided.

## Details
In `controller.move`, the formula currently utilized in `apply_discount_code` and `apply_referral_code` may produce incorrect values if the `original_fee` is not a multiple of one hundred. This may result in an inaccurate calculation of the new rate.

```rust
source/controller/controller.move RUST
fun apply_referral_code(
    config: &Configuration,
    payment: &mut Coin<SUI>,
    original_fee: u64,
    referral_code: &ascii::String,
    ctx: &mut TxContext
): u64 {
    let (rate, partner) = configuration::use_referral_code(config, referral_code);
    let remaining_fee = (original_fee / 100) * (100 - rate as u64);
    let payback_amount = original_fee - remaining_fee;
    coin_util::user_transfer_to_address(payment, payback_amount, partner, ctx);
    remaining_fee
}
// returns remaining_fee after being discounted
fun apply_discount_code(
    config: &mut Configuration,
    original_fee: u64,
    referral_code: &ascii::String,
    ctx: &mut TxContext,
): u64 {
    let rate = configuration::use_discount_code(config, referral_code, ctx);
    (original_fee / 100) * (100 - rate as u64)
}
```

## Remediation
Change the formula for the rate calculation from `(original_fee / 100) * (100 - rate as u64)` to `(original_fee * (100 - rate as u64) / 100)`.
