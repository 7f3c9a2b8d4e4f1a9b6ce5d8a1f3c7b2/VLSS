# Incorrect Repay Rounding

## Summary
No summary provided.

## Details
## Required USDA Repayment Calculation

The required USDA repayment is calculated in `required_repay_amount_internal`. This function should round up instead of down to properly round against the user. Otherwise, for small repayment amounts, it might be possible to further decrease the health of the vault.

## Code Snippet 1: argo_liquidate/sources/liquidate_v1.move

```rust
/// Gas-efficient calculation of required_repay_amount
fun required_repay_amount_internal<NamespaceType, CoinType>(
    params: &LiquidateParams<NamespaceType, CoinType>,
    liquidator_addr: address,
    owner_addr: address,
    liquidate_amount: u64,
): u64 {
    return math::scale_floor(
        liquidate_amount,
        auction_price_internal(params, liquidator_addr, owner_addr),
        PRICE_PRECISION
    )
}
```

### Remediation

Use `scale_ceil`.

### Patch

Resolved in commit `2c31c5c`.

## Code Snippet 2: argo_engine/sources/engine_v1.move

```rust
/// Gas-efficient calculation of required_repay_amount
fun required_repay_amount_internal<NamespaceType, CoinType>(
    engine: &Engine<NamespaceType, CoinType>,
    liquidator_addr: address,
    owner_addr: address,
    liquidate_amount: u64,
): u64 acquires Vault {
    return scale_ceil(
        liquidate_amount,
        auction_price_internal(engine, liquidator_addr, owner_addr),
        PRICE_PRECISION
    )
}
```

### Argo Audit 04 | Vulnerabilities
