# Minimum Pool Liquidity

## Summary
No summary provided.

## Details
## EmptyBank Assertion in `bank_math::compute_utilisation_bps`

The `EmptyBank` assertion in `bank_math::compute_utilisation_bps` ensures that the sum of `funds_available` and `funds_deployed` is always greater than zero. Without this check, the division in the calculation of the utilization ratio formula will result in a division-by-zero error. However, this creates a problem during full withdrawals.

```rust
// steamm/sources/bank/bank_math.move
public(package) fun compute_utilisation_bps(funds_available: u64, funds_deployed: u64): u64 {
    assert!(funds_available + funds_deployed > 0, EEmptyBank);
    (funds_deployed * 10_000) / (funds_available + funds_deployed)
}
```

If all funds are withdrawn, `funds_available` becomes zero, and if no funds are deployed, then the sum of `funds_available` and `funds_deployed` will be zero. Thus, the assertion will fail, halting execution and preventing the last withdrawal.

## Remediation

Introduce a minimum liquidity reserve (such as `MINIMUM_LIQUIDITY` in pool) to prevent the pool from becoming entirely empty.

## Patch

Resolved in commit `6e17d4f`.
