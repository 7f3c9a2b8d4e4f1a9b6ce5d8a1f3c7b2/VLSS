# Storing Value During Mix

## Summary
No summary provided.

## Details
## Issue Overview

During `mix` in `capy_labs.move`, `last_epoch_mixed` is invoked twice for every `SuiFren`. Consider storing the value of `last_epoch_mixed(sf1)` and `last_epoch_mixed(sf2)`.

## Affected Code

```rust
sources/capy_labs.move RUST
public fun mix<T>(
    self: &mut CapyLabsApp,
    sf1: &mut SuiFren<T>,
    sf2: &mut SuiFren<T>,
    clock: &Clock,
    birth_location: String,
    paid: &mut Coin<SUI>,
    ctx: &mut TxContext
) -> SuiFren<T> {
    [...]
    // Deal with Cool Down Period Business Rules
    {
        if (option::is_some(&last_epoch_mixed(sf1))) {
            let last_epoch_mixed_1 = *option::borrow(&last_epoch_mixed(sf1));
            let epochs_passed_1 = current_epoch - last_epoch_mixed_1;
            assert!(epochs_passed_1 >= self.cool_down_period, EStillInCoolDownPeriod)
        };
        if (option::is_some(&last_epoch_mixed(sf2))) {
            let last_epoch_mixed_2 = *option::borrow(&last_epoch_mixed(sf2));
            let epochs_passed_2 = current_epoch - last_epoch_mixed_2;
            assert!(epochs_passed_2 >= self.cool_down_period, EStillInCoolDownPeriod)
        };
    [...]
}
```

## Remediation

Store the value of `last_epoch_mixed` and reuse it in the `mix` function.

## Patch

Fixed in commit `5462a42`.
