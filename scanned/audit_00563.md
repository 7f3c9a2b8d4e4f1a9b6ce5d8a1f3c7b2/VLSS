# Minimize External Attack Surface

## Summary
No summary provided.

## Details
## Sui Friend Functions

Sui supports friend functions where only a set of whitelisted friend modules are allowed to call them. We generally suggest marking all object-modifying functions that are not intended to be used by external users as friend only to minimize the potential attack surface. 

For instance, the function below could benefit from stricter access control.

## Example Code

```rust
// sui/wormhole/sources/resources/set.move RUST
public fun add<T: copy + drop + store>(self: &mut Set<T>, key: T) {
    assert!(!contains(self, key), E_KEY_ALREADY_EXISTS);
    table::add(&mut self.items, key, Empty {})
}
```

## Remediation

Ensure functions that should only be used internally are friend only.

### Code Diff

```diff
// sui/wormhole/sources/resources/set.move DIFF
- public fun add<T: copy + drop + store>(self: &mut Set<T>, key: T) {
+ public(friend) fun add<T: copy + drop + store>(self: &mut Set<T>, key: T) {
    assert!(!contains(self, key), E_KEY_ALREADY_EXISTS);
    table::add(&mut self.items, key, Empty {})
}
```
