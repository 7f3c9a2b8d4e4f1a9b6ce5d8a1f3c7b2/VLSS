# Improper Token Weight Calculation

## Summary
No summary provided.

## Details
## Token Weight Calculation in the Tank Module

The `get_token_weight` function in the tank module calculates the weight of the user’s deposit. This token weight is used to determine the amount that can be withdrawn by the user.

### Code Snippet
```rust
protocol/sources/tank.move RUST
// TODO: check this line is necessary
if (compound_stake < token.deposit_amount / constants::scale_factor()) {
    return 0;
}
(compound_stake)
```

In this function, if the total calculated `compound_stake` of the user for the two scales is less than the value of `token.deposit_amount / constants::scale_factor()`, zero is returned. This behavior unnecessarily reduces the user’s compounded stake.

## Remediation
Remove the if case that returns zero if the `compound_stake` is less than `token.deposit_amount / constants::scale_factor()`.

### Patch
Fixed in commit `3a995b0`.
