# Missing Validation Logic

## Summary
No summary provided.

## Details
## Issues Identified and Remediation Steps

## Issues

1. In the current implementation, `init_module` functions do not verify that the deployer’s address matches the predefined address stored in `ds_protocol`. This is especially necessary since key helper functions such as `dstoken_address` rely on this specific address.
   
2. In `token_issuer::issue_tokens`, instead of merely verifying that `get_investor(to)` is not empty, asserting that `get_investor(to) == id` will provide additional accuracy by ensuring that the recipient’s wallet (`to`) is actually associated with the specified investor (`id`).

   ```rust
   move/sources/token_issuer.move
   public entry fun issue_tokens(
   [...]
   ) {
   [...]
   if (registry_service::is_wallet(to)) {
       assert!(registry_service::get_investor(to) != string::utf8(b""), 0);
   }
   [...]
   }
   ```

3. `registry_service::add_wallet` does not include the `assert_new_wallet` check to ensure that the wallet address does not already exist for the specified investor before adding it.

4. Currently, there is no check in `create_lock_for_investor` to verify if the investor ID is valid and actually exists.

## Remediation

1. Verify that the deployer’s address aligns with the stored one.
2. Enforce a strict association between the wallet address (`to`) and the specified investor ID (`id`) to ensure that tokens are issued to the correct investor.
3. Verify that a wallet does not already exist for an investor via `assert_new_wallet`.
4. Ensure `create_lock_for_investor` checks if the investor exists before creating the lock.

## Patch

1. Issue #1 resolved in `06538b8`.
2. Issue #2 resolved in `06538b8`.
3. Issue #3 resolved in `06538b8`.
