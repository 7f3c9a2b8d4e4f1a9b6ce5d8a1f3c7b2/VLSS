# Redundant Checks

## Summary
No summary provided.

## Details
## Ride Cancellation Logic

In the context of `rider_cancel_ride`, `driver_cancel_ride`, and `admin_cancel_ride`, it's important to check the rideâ€™s state before updating it. 

## Redundant Check
The check:

```python
if ride.state == RideStatusRideStarted
```

is redundant. This is because the state is updated inside the conditional block to a different state (`RideStatusCancelledByRider`, `RideStatusCancelledByDriver`, or `RideStatusCancelledByDrife`). Once the state is updated, the subsequent code inside the block will never be executed. 

### Implications
As a result, the fee calculation and event emission, which are inside this block, are effectively unattainable. Consequently, the returned fee will consistently be zero. This is due to the fact that the actions that would change the value of the fee are never executed because of the conditional check.

## Remediation
Ensure that the conditional check is necessary; if the state update should always occur when calling the function, consider removing the conditional check.

## Patch
This issue has been fixed in commit `17e4d91`.
