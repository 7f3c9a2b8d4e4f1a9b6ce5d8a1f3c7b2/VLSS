# Input Parameter Validation

## Summary
No summary provided.

## Details
**Update**
Marked as "Mitigated" by the client. Addressed in: `0e9a5dec3689ebfb9d60ab77d451b270c533e577`. The client provided the following explanation:

> We do not fix no. 5, 6, because it does not affect the usage of existing users and the error is easy to detect. Adding hard-coded restrictions would make the configuration less flexible. We do not fix no. 9, we do not limit that max_cap must be greater than the current vault value. It is acceptable for max_cap to be lower than the vault value, in which case users can only withdraw funds and cannot make deposits.

**File(s) affected:**`vault.move`

**Description:** It is important to validate user-provided inputs, even in administrative functions and for values coming from trusted sources, to prevent human errors and unintended behavior.

1.   In the `create_vault()` function, ensure the initial deposit `amount` does not exceed the `max_cap` set for the vault.
2.   In the `create_vault()` function, ensure the initial deposit `amount` is not below `min_deposit_amount` set for the vault.
3.   In the `deposit_internal()` function, ensure the deposit amount is greater than `vault.deposit_internal` instead of `0`.
4.   In `set_vault_config_max_cap()`, `set_vault_config_vault_creating_fee()`, `set_vault_config_fee_pool()`, and `set_vault_config_lock_period()`, ensure the new values are not equal to the existing ones.
5.   Consider adding an immutable minimum value for `VaultConfig.max_cap` to prevent very small caps.
6.   Consider adding an immutable maximum value for `VaultConfig.vault_creating_fee`.
7.   Consider adding an immutable maximum value for `VaultConfig.lock_period_ms`.
8.   In the `set_max_cap()` function, ensure the provided `max_cap` value is properly validated against the existing `VaultConfig.max_cap` to prevent redundant or invalid updates.
9.   The `set_max_cap()` function allows setting a new `max_cap` for a given vault. However, there is no mechanism in this function to ensure that the provided `max_cap` is not below the sum of existing funds in the vault. Make sure to validate this new `max_cap`value.

**Recommendation:** Applying above input validations can help prevent misconfigurations, human errors, and potential inconsistencies in vault behavior.
