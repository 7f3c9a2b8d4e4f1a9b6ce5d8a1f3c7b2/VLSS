# Supply chain vulnerability in GitHub Actions workflow configuration

## Summary
No summary provided.

## Details
## Severity: Low Risk

## Description

There are multiple instances of unpinned external actions or floating references in the GitHub workflows. This creates potential supply chain attack vectors which could allow attackers to execute malicious code within the CI environment if any of the referenced action repositories are compromised. Two GitHub Actions workflows were analyzed:

1. CI workflow for testing and code coverage.
2. Sync workflow for maintaining thala-mainnet repository.

The following actions are inadequately pinned:

- `actions/checkout@v3`: Pinned only to major version.
- `pontem-network/get-aptos@main`: Using floating main branch reference.
- `actions/github-script@v6`: Pinned only to major version.
- `actions/cache@v3`: Pinned only to major version.

When actions are referenced by branch names or version tags instead of specific commit hashes, there is a risk that the referenced code could be modified maliciously through compromised repositories or social engineering attacks against action maintainers.

If any of the referenced action repositories are compromised, an attacker could inject malicious code that would be automatically executed within Thala's CI environment. This could lead to exposure of sensitive repository data, credentials stored in secrets, or enable supply chain attacks against the built artifacts.

The likelihood of exploitation is low. Compromising well-maintained actions like those from GitHub themselves is relatively difficult.

## Recommendation

All external actions should be pinned to specific commit hashes rather than using version tags or branch references. This ensures the exact code being executed is known and won't change unexpectedly. 

### Example of properly pinned actions:

- `uses: actions/checkout@8f4b7f84864484a7bf31766abe9204da3cbe65b3` # v3.5.0
- `uses: actions/cache@88522ab9f39a2ea568f7027eddc7d8d8bc9d59c8` # v3.3.1
- `uses: actions/github-script@d556feaca394842dc55e4734bf3bb9f685482fa0` # v6.3.3

For third-party actions like `pontem-network/get-aptos`, review the source code at a specific commit and pin to that commit hash:

- `uses: pontem-network/get-aptos@7602c9d447e5b92d447737c2f905c1f42c78cd73` # specific commit

Additionally, consider implementing these supplementary security measures:

1. Regular audit of pinned commit hashes to ensure they're still the latest verified versions.
2. Documentation of the verification process for third-party actions.
3. Implementation of a policy requiring security review before updating action versions.
