# Incorrect Transfer Types Check

## Summary
No summary provided.

## Details
## Error in Assertion within `transfer::its_transfer`

There is an error in the assertion within `transfer::its_transfer`. `its_transfer` is specifically designed to handle transfers of ITS tokens. Since it deals with ITS tokens, the expected swap type in the data should be `SWAP_TYPE_ITS_TRANSFER` (defined as a constant three). However, the current code asserts for `SWAP_TYPE_SUI_TRANSFER` (defined as a constant two). This means the function is mistakenly checking for a Sui transfer type even though it’s performing an ITS transfer.

> _sources/squid/transfers.moverust

```rust
public fun its_transfer<T>(swap_info: &mut SwapInfo, its: &mut ITS, ctx: &mut TxContext) {
    let data = swap_info.get_data_swapping();
    if (data.length() == 0) return;
    let mut bcs = bcs::new(data)
    assert!(bcs.peel_u8() == SWAP_TYPE_SUI_TRANSFER, EWrongSwapType);
    [...]
}
```

## Remediation

Replace `SWAP_TYPE_SUI_TRANSFER` with `SWAP_TYPE_ITS_TRANSFER` in the assertion. 

## Patch

Fixed in `27fcf68`.

© 2024 Otter Audits LLC. All Rights Reserved. 16/18
