# Incorrect Variable

## Summary
No summary provided.

## Details
## Issue with `calculate_end` Function in `protocol::create`

In `protocol::create`, `validate_contract_params` is utilized to validate the input parameters that are related to amounts. However, the `calculate_end` function, which is responsible for calculating the end-time value used in `validate_contract_params`, is currently receiving the `amount` value rather than the `amount_per_period` value.

```rust
sources/protocol.move
calculate_end(
    amount,
    cliff_amount,
    period,
    start,
    amount
),
```

As a result, `calculate_end` always returns the end-time value for only one period, which could potentially bypass the `end < start + SEVENTY_YEARS_IN_SECS` check in `validate_contract_params`.

## Proof of Concept

Consider the following scenario:

1. A user creates a contract with an end value derived from the input parameters greater than seventy years from the start time.
2. Due to the incorrect value being passed to `calculate_end`, the end time value for only one period is calculated instead of the entire contract duration.
3. As a result, the `end < start + SEVENTY_YEARS_IN_SECS` check in `validate_contract_params` becomes bypassed, potentially leading to unexpected behavior.

## Remediation

Use `amount_per_period` for end-time calculation instead of the `amount` value. Additionally, reuse the `end` variable in `create` instead of calculating it twice, improving code efficiency and readability.

## Patch

Fixed in `bd4f2e9` by correcting the function call argument and reusing the `end` variable instead of calculating it twice.
