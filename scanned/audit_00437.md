# Avoid Passing Unended Process

## Summary
No summary provided.

## Details
## Documentation on `epoch_was_changed` Functionality

The `epoch_was_changed` function calls `unstake_from_storage` when it needs to obtain Sui by unstaking staked Sui. The process of unstaking from storage is deemed complete if one of the two conditions is met, which has an edge case in the second condition. 

Within `unstake_from_storage`, due to the `fields_requests_per_tx` limit, it could break after the first iteration, resulting in an unstaked Sui amount of 0. Consequently, even though unstaking is still necessary, the processed flag could become true.

## Remediation

To address this issue, the following change is recommended:

- Remove `unstaked_amount == 0` from the condition of the `if` statement.

### Code Diff

```diff
@@ -742,8 +744,7 @@ module lsd::actions {
public(friend) fun epoch_was_changed(
    // ...
    if (
-      unstaked_amount >= amount_to_unstake ||
-      unstaked_amount == 0
+      unstaked_amount >= amount_to_unstake
    ) {
```

## Patch

This issue has been fixed in commit `b375014` by retaining only the first condition.
