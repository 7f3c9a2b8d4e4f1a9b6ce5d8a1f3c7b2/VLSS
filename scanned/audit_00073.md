# [L-08] Soft restriction bypass via token transfers

## Summary
No summary provided.

## Details
_Acknowledged_

In the `sdeusd.move` function `add_to_blacklist()` function soft-restricted users are only blocked from direct staking but can receive sdeUSD tokens via transfers, bypassing the restriction entirely.

lets check the **vulnerable code:**
```move
if (is_full_blacklisting) {
    coin::deny_list_v2_add(deny_list, &mut management.deny_cap, target, ctx);
} else {
    management.soft_restricted_stakers.add(target);  // Only internal tracking
    // Missing: deny_list addition for soft restrictions @audit-poc
}
```

This is **how it occurs:**
1. Alice gets soft-blacklisted (cannot call `deposit()`).
2. Bob stakes deUSD normally and gets sdeUSD shares.
3. Bob transfers sdeUSD tokens to Alice via `transfer::public_transfer()`.
4. Alice successfully increased her stake without triggering restriction checks.

This means soft restrictions only prevent direct protocol interaction, not token receipt.

**Impact**

**Soft-restricted users can bypass staking restrictions through collusion or token gifts.**

**Recommendation**

Add soft-restricted users to the coin separate deny list so that direct transfers are also disabled, this way, another user sending sdeUSD to a blacklisted user will not be allowed.
